<html>
<head>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="bower_components/angular-material/angular-material.css">
   <link rel="stylesheet" href="css/style.css" type="text/css" />
   <link rel="stylesheet" href="css/todo.css" type="text/css" />
</head>
<body ng-app="app">
  <div class="main" ng-controller="MainController">

    <md-content class="md-padding">
      <div layout="row" layout-wrap>

        <!--Toolbar-->
        <div flex="20"></div>
        <div flex="60">
          <md-toolbar>
            <div class="md-toolbar-tools">
              <h2 class="md-flex">Hi buddy ! You have {{getLength()}} tasks left</h2>
            </div>
          </md-toolbar>
        </div>
        <div flex="20"></div>

        <!--List of tasks-->
        <div flex="20"></div>
        <div flex="60">
          <div layout="row">
            <!--List of tasks TODO -->
            <div flex="" droppable drop="handleDrop" id="binTodo" bin="todo" class="todo-box" layout-margin>
              <md-list ng-cloak>
                <md-subheader class="md-no-sticky">Backlog</md-subheader>
                <md-divider></md-divider>
                <md-list-item ng-repeat="todo in todos" ng-if="checkBin(todo,'todo')" class="md-2-line" id="{{todo.id}}" draggable >
                  <div class="md-list-item-text">
                    <h3>{{todo.text}}</h3>
                    <p class="todo-detail">{{todo.detail}}</p>
                  </div>
                 </md-list-item>
                </md-list>
            </div>


            <!--List of tasks ONGOING -->
            <div flex="" droppable drop="handleDrop" id="binOngoing" bin="ongoing" class="todo-box" layout-margin>
              <md-list ng-cloak>
                <md-subheader class="md-no-sticky">Ongoing</md-subheader>
                <md-divider></md-divider>
                <md-list-item ng-repeat="todo in todos" ng-if="checkBin(todo,'ongoing')" class="md-2-line" id="{{todo.id}}" draggable >
                  <div class="md-list-item-text">
                    <h3>{{todo.text}}</h3>
                    <p class="todo-detail">{{todo.detail}}</p>
                  </div>                </md-list-item>
              </md-list>
            </div>

            <!--List of tasks DONE -->
            <div flex="" droppable drop="handleDrop" id="binDone" bin="done" class="todo-box" layout-margin>
              <md-list ng-cloak>
                <md-subheader class="md-no-sticky">Done</md-subheader>
                <md-divider></md-divider>
                <md-list-item ng-repeat="todo in todos" ng-if="checkBin(todo,'done')" class="md-2-line" id="{{todo.id}}" draggable >
                  <div class="md-list-item-text">
                    <h3>{{todo.text}}</h3>
                    <p class="todo-detail">{{todo.detail}}</p>
                  </div>
                </md-list-item>
              </md-list>
            </div>
          </div>
        </div>
        <div flex="20"></div>

        <!--Divider-->
        <div flex="20"></div>
        <div flex="60" style="height:50px">
        </div>
        <div flex="20"></div>

        <!--Toolbar - Add Task -->
        <div flex="35"></div>
        <div flex="30">
          <md-toolbar class="md-primary md-hue-1">
            <div class="md-toolbar-tools">
              <h2 class="md-flex">Add task</h2>
            </div>
          </md-toolbar>
        </div>
        <div flex="35"></div>

        <!--Task form-->
        <div flex="35"></div>
        <div flex="30" class="todo-box padding-box" layout="column">
          <div flex>
          <md-input-container class="md-block">
            <label>New Task</label>
            <input ng-model="formTodoText">
          </md-input-container>
          <md-input-container class="md-block">
            <label>Tell me more details about the task</label>
            <input ng-model="formTodoDetail">
          </md-input-container>
          </div>
          <div flex>
          <md-button class="md-raised md-primary" layout-align="left center" ng-click="addTodo()">Add</md-button>
          <md-button class="md-raised md-warn" layout-align="left center" ng-click="clearCompleted()">Clear completed</md-button>
          </div>
        </div>
        <div flex="30"></div>

    </md-content>

    <div ng-controller="DragDropCtrl">
        <div class="bin" droppable drop="handleDrop()"></div>
        <div class="bin" droppable drop="handleDrop()">
          <div class="item" id="item1" draggable></div>
        </div>

    </div>
  <!-- Angular Material requires Angular.js Libraries -->
    <script src="bower_components/angular/angular.min.js"></script>
	<script src="bower_components/angular-aria/angular-aria.min.js"></script>
	<script src="bower_components/angular-animate/angular-animate.min.js"></script>
	<script src="bower_components/angular-material/angular-material.min.js"></script>
  <script src="bower_components/angular-messages/angular-messages.min.js"></script>
  <script src="js/controllers/todoController2.js"></script>
  <script src="js/directives/dragdrop.js"></script>

</body>
</html>
